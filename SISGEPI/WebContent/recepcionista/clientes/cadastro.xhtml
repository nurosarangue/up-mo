<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/recepcionista/principal/index.xhtml">
	<ui:define name="titulo">
	Clientes
	</ui:define>
	<ui:define name="menu">
	
	   <ui:include src="/recepcionista/template/menu.xhtml"></ui:include>
	   
	</ui:define>
	
	<ui:define name="usuarioLogado">
	   <ui:include src="/recepcionista/template/usuario_logado.xhtml"></ui:include>
	</ui:define>
	
	<ui:define name="corpo">
	<div class="x_panel">
	<h:form id="form" styleClass="form-horizontal">
	<p:messages closable="true" id="mensagem"/>	 
<div class="panel panel-info ">
<div class="panel-body">			
		
		<h:panelGroup rendered="#{clienteBean.cadastroBoolean==false}">

					<div class="form-group">

						<div class="col-sm-7">
							<div class="input-group">
								<h:inputText styleClass="form-control"
									value="#{clienteBean.pesquisa}">
									<f:passThroughAttribute name="placeholder"
										value="Pesquisa por nome do cliente ou numero do contador ou telefone" />
									<f:passThroughAttribute name="autofocus" value="true" />
									
									<p:ajax event="keyup" listener="#{clienteBean.pesquisarCliente}"
										update="tabela"></p:ajax>
								</h:inputText>
								<span class="input-group-btn"> <h:commandLink
										styleClass="btn btn-success" action="#{clienteBean.pesquisarCliente}"
										value="Pesquisar" />
								</span>
							</div>
						</div>
					</div>
					<h:dataTable value="#{clienteBean.clientes}" var="cliente" id="tabela"
						styleClass="table table-bordered table-hover"
						headerClass="cabecalho-T" footerClass="rodape-T">

						<h:column>
							<f:facet name="header">
								<h:outputText value="#" />
							</f:facet>
							<h:outputText value="#{cliente.id}" />
						</h:column>
						<h:column>
							<f:facet name="header">
								<h:outputText value="Nome do cliente" />
							</f:facet>
							<h:outputText value="#{cliente.nome}" />
						</h:column>
						<h:column>
							<f:facet name="header">
								<h:outputText value="Contador" />
							</f:facet>
							<h:outputText value="#{cliente.contador}" />
						</h:column>
						
						<h:column>
							<f:facet name="header">
								<h:outputText value="Opções" />
							</f:facet>
											
							
								<h:commandLink title="Editar?" immediate="true"
									actionListener="#{clienteBean.visualizarClienteOperador(cliente)}" styleClass="tooltip-left"
									style="margin-left:1%; color: blue;">
									<span class="fa fa-folder-open" style="font-size: 160%;"
										></span>
								</h:commandLink>
								
								<h:commandLink immediate="true" title="Imprimir"
								actionListener="#{clienteBean.imprimirDadosCliente(cliente)}"
								style="color: blue; margin-left:5%;">
								<span class="fa fa-print" style="font-size: 150%"></span>
								</h:commandLink>
							 

						</h:column>

						<f:facet name="footer">
							<h:outputText
								value=" #{clienteBean.quantidadeRegistos} registo(s) encontrado(s)"></h:outputText>
						</f:facet>
					</h:dataTable>
				</h:panelGroup>
				
				
				<!-- Novo cadastro (e edicao) do cliente  -->
				
						<h:panelGroup rendered="#{clienteBean.cadastroBoolean==true}">



					<div class="form-group">
						<h:outputLabel value="Nome"
							styleClass="col-sm-3 control-label" />
						<div class="col-sm-5">
							<h:inputText value="#{clienteBean.clienteSelecionado.nome}" disabled="true"
								styleClass="form-control">
							</h:inputText>
						</div>
					</div>
					
					<div class="form-group">
					<label class="col-sm-3 control-label">Provincia de
						Residencia</label>
					<div class="col-sm-5">

						<h:inputText
							value="#{clienteBean.clienteSelecionado.cidade.provincia.nome}" disabled="true"
							styleClass="form-control"/>
						
					</div>
				</div>	
				
				<div class="form-group">
					<label class="col-sm-3 control-label">Delegação</label>
					<div class="col-sm-5">
						<h:inputText styleClass="form-control"
							disabled="true" value="#{clienteBean.clienteSelecionado.cidade.nome}"/>
			             
						
					</div>
				</div>
				
				<div class="form-group">
					<label class="col-sm-3 control-label">Bairro de Residencia</label>
					<div class="col-sm-4">
					<h:inputText disabled="true" styleClass="form-control" value="#{clienteBean.clienteSelecionado.bairo}"
                  >
						</h:inputText>
					</div>
				</div>
					<div class="form-group">
						<h:outputLabel value="N. Contador"
							styleClass="col-sm-3 control-label" />
						<div class="col-sm-3">
							<h:inputText value="#{clienteBean.clienteSelecionado.contador}" required="true"
							requiredMessage="O campo do contador não pode ser vazio"
								styleClass="form-control">
							</h:inputText>
						</div>
					</div>
					
						
					
					<div class="form-group">
						<h:outputLabel value="Tell/Cel."
							styleClass="col-sm-3 control-label" />
						<div class="col-sm-3">
							<h:inputText value="#{clienteBean.clienteSelecionado.telefone}" required="true"
							requiredMessage="O campo do Telefone Celular não pode ser vazio"
								styleClass="form-control">
							</h:inputText>
						</div>
					</div>			
				
				
				<div class="form-group">
					<label class="col-sm-3 control-label">Tipo de Instalação</label>
					<div class="col-sm-3">
		<h:inputText styleClass="form-control" value="#{clienteBean.clienteSelecionado.instalacao}"/>
					</div>
				</div>
				
				
				
				<div class="form-group">
					<label class="col-sm-3 control-label">Avenida/Rua</label>
					<div class="col-sm-3">
		<h:inputText styleClass="form-control"  value="#{clienteBean.clienteSelecionado.avenida}">
						</h:inputText>
					</div>
				</div>
				
					
					<div class="row" style="text-align: center; margin-left: 2%;margin-top:1%;">
						<h:commandButton styleClass="btn btn-primary"
							action="#{clienteBean.voltarPesquisa}" style="margin-left:1%;"
							immediate="true" value="Voltar" />
					</div>
				
				</h:panelGroup>
		
		
	</div></div>
	</h:form>
	</div>
	</ui:define>
</ui:composition>
</html>
